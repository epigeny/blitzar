var v=Object.defineProperty;var c=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(s,t,e)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,u=(s,t)=>{for(var e in t||(t={}))O.call(t,e)&&h(s,e,t[e]);if(c)for(var e of c(t))y.call(t,e)&&h(s,e,t[e]);return s};import{_ as B,o as _,j as w,n as g,m as C,p as b,d as q,q as E,T as P,s as x,x as m,y as p,z as k}from"./app.90a06da7.js";const M=s=>{typeof s.remove!="undefined"?s.remove():s.parentNode.removeChild(s)};class N{constructor(t,e){this.startedAt=Date.now(),this.callback=t,this.delay=e,this.timer=setTimeout(t,e)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const n={TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"};var f=Object.freeze(n);function d(s,t,e){let i=null;switch(s){case n.TOP:case n.TOP_RIGHT:case n.TOP_LEFT:i=t;break;case n.BOTTOM:case n.BOTTOM_RIGHT:case n.BOTTOM_LEFT:i=e;break}return i}class A{constructor(){this.queue={}}$on(t,e){this.queue[t]=this.queue[t]||[],this.queue[t].push(e)}$off(t,e){if(this.queue[t]){for(var i=0;i<this.queue[t].length;i++)if(this.queue[t][i]===e){this.queue[t].splice(i,1);break}}}$emit(t,e){this.queue[t]&&this.queue[t].forEach(function(i){i(e)})}}var l=new A;const H={name:"toast",props:{message:{type:String,required:!0},type:{type:String,default:"default"},position:{type:String,default:f.BOTTOM_RIGHT,validator(s){return Object.values(f).includes(s)}},maxToasts:{type:[Number,Boolean],default:!1},duration:{type:[Number,Boolean],default:4e3},dismissible:{type:Boolean,default:!0},queue:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},useDefaultCss:{type:Boolean,default:!0},onClose:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1,timer:null}},beforeMount(){this.createParents(),this.setDefaultCss(),this.setupContainer()},mounted(){this.showNotice(),l.$on("toast-clear",this.close)},methods:{createParents(){this.parentTop=document.querySelector(".c-toast-container--top"),this.parentBottom=document.querySelector(".c-toast-container--bottom"),!(this.parentTop&&this.parentBottom)&&(this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="c-toast-container c-toast-container--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="c-toast-container c-toast-container--bottom"))},setDefaultCss(){const s=this.useDefaultCss?"add":"remove";this.parentTop.classList[s]("v--default-css"),this.parentBottom.classList[s]("v--default-css")},setupContainer(){const s=document.body;s.appendChild(this.parentTop),s.appendChild(this.parentBottom)},shouldQueue(){return!this.queue&&this.maxToasts===!1?!1:this.maxToasts!==!1?this.maxToasts<=this.parentTop.childElementCount+this.parentBottom.childElementCount:this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.timer=this.duration!==!1?new N(this.close,this.duration):null},click(){this.onClick.apply(null,arguments),this.dismissible&&this.close()},toggleTimer(s){this.timer&&this.pauseOnHover&&(s?this.timer.pause():this.timer.resume())},stopTimer(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer)},close(){this.stopTimer(),this.isActive=!1,setTimeout(()=>{this.onClose.apply(null,arguments),M(this.$el)},150)}},computed:{correctParent(){return d(this.position,this.parentTop,this.parentBottom)},transition(){return d(this.position,{enter:"fadeInDown",leave:"fadeOut"},{enter:"fadeInUp",leave:"fadeOut"})}},beforeUnmount(){l.$off("toast-clear",this.close)}},D=["innerHTML"];function I(s,t,e,i,a,o){return _(),w(P,{"enter-active-class":o.transition.enter,"leave-active-class":o.transition.leave},{default:g(()=>[C(q("div",{class:E(["c-toast",`c-toast--${e.type}`,`c-toast--${e.position}`]),onMouseover:t[0]||(t[0]=r=>o.toggleTimer(!0)),onMouseleave:t[1]||(t[1]=r=>o.toggleTimer(!1)),onClick:t[2]||(t[2]=(...r)=>o.click&&o.click(...r)),role:"alert",innerHTML:e.message},null,42,D),[[b,a.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}var S=B(H,[["render",I]]);const L=()=>typeof document!="undefined"&&document.createElement("div"),j=(s,{props:t,children:e,element:i,app:a}={})=>{let o=i||L(),r=x(s,t,e);return a&&a._context&&(r.appContext=a._context),m(r,o),{vNode:r,destroy:()=>{o&&m(null,o),o=null,r=null},el:o}},F=(s={})=>({show(t,e={}){let i=u({message:t},e);return j(S,{props:u(u({},s),i)})},clear(){l.$emit("toast-clear")},success(t,e={}){return e.type="success",this.show(t,e)},error(t,e={}){return e.type="error",this.show(t,e)},info(t,e={}){return e.type="info",this.show(t,e)},warning(t,e={}){return e.type="warning",this.show(t,e)}}),T=F();function z(s,t,e){if(e==="default"||p(t)&&t.origin==="default")return;const i=p(t)||k(t)?JSON.stringify(t,void 0,2):t;if(i){T.show(s+`
`+i);return}T.show(s)}export{z as s};
